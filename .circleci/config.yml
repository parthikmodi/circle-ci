# Ruby CircleCI 2.0 configuration file
#
# Check https://circleci.com/docs/2.0/language-ruby/ for more details
#
version: 2
jobs:
  build:
    #docker:
      # specify the version you desire here
     # - image: circleci/ruby:2.4.1-node-browsers

      # Specify service dependencies here if necessary
      # CircleCI maintains a library of pre-built images
      # documented at https://circleci.com/docs/2.0/circleci-images/
      # - image: circleci/postgres:9.4

    working_directory: ~/repo

    steps:
      # Download and cache dependencies
      
      # run tests!
      - run:
          name: Deploy app to Digital Ocean Server via Docker
          command: |
            chmod 600 ./deploy_key && ssh -o StrictHostKeyChecking=no -i ./deploy_key
    texttrack@68.183.197.37 sudo /usr/local/circleci/deploy.sh
            

#script:
#  - docker login -u "$DOCKER_USERNAME" -p "$DOCKER_PASSWORD"
#  - docker build -t tts .
#  - docker images
#  - git add .
#  - git commit -m "commit from travis-ci"
#  - docker tag tts $DOCKER_USERNAME/tts
#  - docker push $DOCKER_USERNAME/tts